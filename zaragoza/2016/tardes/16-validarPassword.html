<!DOCTYPE html>
<html>
<head>
	<title>7. Validar Formulario</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width initial-scale=1.0">
	<style type="text/css">
	input:invalid{
		border: 2px solid red;
	}
	</style>
	<script type="text/javascript">
		window.onload = function(){
			console.log("cargo");
			var pass = document.getElementById('pass');
			//console.log(pass);
			var ns = "0123456789";

			var siNum = false;
			var siMay = false;

			pass.onblur = function(){
				var vPass = pass.value;
				for (var c=0; c<vPass.length; c++){
					//console.log("entro for");
					if (ns.indexOf(vPass[c]) >= 0){
						siNum = true;
						break;
					}
				}
				if (vPass.search("[A-Z]") >= 0){
					siMay = true;
				}

				if (siNum == false || siMay == false){
					alert("Falta mayúscula o número");
					setTimeout(function(){
						pass.value="";
						pass.focus();
					},1);
						
				}
				else{
					console.log("entro else");
				}
			}	

		}
	</script>
</head>
<body>
	<form action="#servidor" method="get">
		<fieldset>
			<legend>Datos</legend>
			<label for="n">Nombre Usuario</label><br>
			<input id="n" type="text" required pattern="^[a-zA-Z].*">
			<br>
			<label>Contraseña</label><br>
			<input id="pass" type="password" required pattern="^.{8}$">
			<br>
			<label>Sexo</label>
			<br>
			<input type="radio" name="sexo" value="Mujer" checked><label>Mujer</label>
			<br>
			<input type="radio" name="sexo" value="Hombre"><label>Hombre</label>
			<br>
			<br>
			<label>Edad</label><br>
			<input type="number" min="0" max"110" required>
			<br>
			<br>
			<label>Fecha Nacimiento</label><br>
			<input type="date" required>
			<br>
			<br>
			<label>e-Mail</label><br>
			<input type="mail" required>
			<br><br>
			<label>Teléfono Fijo</label><br>
			<input type="tel" pattern="^[89]\d{8}$">
			<br>
			<label>Teléfono Móvil</label><br>
			<input type="tel" pattern="^[67]\d{8}$">
			<br><br>
			<label>Comentarios</label><br>
			<br>
			<textarea rows="10" cols="15" placeholder="Deja tus comentarios"></textarea>
		</fieldset>
		<br>
		<input type="submit" value="Enviar">
		<input type="reset" value="Limpiar">
		
	</form>
</body>
</html>